等下给出基本的设计方案，首先了解基本的需求，保证最后结果有效。对于相关源代码进行改造，学习基于PYTHON和c++的相关代码的设计。保证相关的功能实施等下我会总结相关工具，而且记得写更新报告，接口友善，写代码更新报告。阶段性总结。

注意和终端交互，控制器，保证控制的准确实施，算法利用面向对象的结构。利用代码优化，了解动态参数选择等，按照目标层，现有层的对称结构进行遍历学习。

现在给出基本的实现流程。

1 首先我在屋内巡逻，有屋内的地图（或者巡逻的时候创建屋内的地图）

2 然后在一个合适的角度看着他们，等着他们给我信息，或者仍然在屋内巡逻。

3 如果有人给我信息，走进确认人的信息，然后最后去衣服柜子的点采样。

4 然后我带着人出去，最后通过识别特征点，给我目标信息，最终我就会前往那个目标点。

所以全部都是需要调用移动的服务。也就是action相关的服务。而且要动态记录相关的点。

对于相关的文档解析必须给出，也就是可以调用的action文件，首先为什么要用action？有反馈，可以利用反馈的信息得到下一步的目标。还有就是导航节点。导航主要用move_base对于move_base里面的相关接口进行展开，好不好不管首先是能否实现。



第一步我要实现自主巡逻而且躲避障碍物。

自主巡逻分为有图和没有图的情况，首先我们做有图的情况。

有图的情况下我们可以在图中测试好对应的特征点，也就是在对应的特征点之间开展巡逻。如果有特征点位姿，那么基本都不是问题，可以直接采用对应的特征点进行巡逻。直接用AMCL来进行巡逻。

首先利用Gmapping建图，然后转换AMCL模式进行建图。有没有办法在这两种模式之间进行转换呢？

或者他们能不能同时开启呢？但是amcl不一定是对的，而且可能会有很强的振铃现象，导致建图结果不准。但是真正的导航不一定需要AMCL。

第一步的结果我要有内部场景的图，而且我要最后到一个地方等待（首先），或者在屋内巡逻，但是巡逻的时候最好是随机巡逻，或者可能实现对应的绕圈方法巡逻。



等下肯定会遇到无法壁障，无法到达目标点等问题。

注意如何多线程以及多节点收发。多节点收集信息，然后发送信息，如果实现sub就是获取信息呢？如何同时调用多个服务，同时调用多个信息。